---
title: "Getting started with `amt`"
author: "Johannes Signer"
date: "`r Sys.Date()`"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Vignette Title}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

## Basics

### Creating a track

The basic building blocks of `amt` are tracks. Tracks are `data_frame`s with at least two columns that contain the coordinates: `x_` and `y_`. A track behaves exactly like a `data_frame` (the only difference being that we added an other S3 class).

```{r, warning=FALSE, message=FALSE}
library(amt)
df1 <- data_frame(x = 1:3, y = 1:3)
is.data.frame(df1)
df1

# Now we can create a track
tr1 <- mk_track(df1, x, y)
is.data.frame(tr1)
tr1

```

At the moment there are two types of tracks:
- `track_xy` is a track that only has coordinates, and
- `track_xyt` is a track that has a timestamp associated to each coordinate pair.

Creating the either a `track_xy` or `track_xyt` is determined wether or not a time stamp is passed to the function `mk_track`. In the previouse example we only passed `x` and `y` coordinats. Hency a `track_xy` was created.


```{r}
class(tr1)
```

To create a `track_xyt` we could do the following

```{r}
df1 <- data_frame(x = 1:3, y = 1:3, t = lubridate::ymd("2017-01-01") + lubridate::days(0:2))
tr2 <- mk_track(df1, x, y, t)
class(tr2)
```

From the output above we see, that a `track_xyt` is also a `track_xy`. This means that all methods for `track_xy` also work for a `track_xyt` (but not the reverse).


### Adding additional information

We can also add additional information for each relocation (e.g., the id of the animal, or some other sensor information such as the DOP). Any number of additional named columns can be passed to `mk_track`. By named we mean, that columns should always be passed in the form of `col_name = content` to avoid confusion with coordinates and time stamp. We will extend the dummy example from above, by passing 2 more columns (the id of animal and the age).

```{r}
df1 <- data_frame(x = 1:3, y = 1:3, t = lubridate::ymd("2017-01-01") + lubridate::days(0:2), 
                  id = 1, age = 4)

# first we only create a track_xy
tr3 <- mk_track(df1, x, y, id = id, age = age)
tr3

# now lets create a track_xyt
tr4 <- mk_track(df1, x, y, t, id = id, age = age)
tr4
```

### Coordinate refenece system

`mk_track` has one further optional argument (`crs`), which allows the user to set a coordinate reference system (CRS) of the track. The CRS needs to be provided as vaild `proj4string`, see the documentation of `sp::CRS` for further details. 

### An example with real data

### A note on pipes (`%>%`)

## Working with tracks

## How to deal with several animals

## Session
```{r}
devtools::session_info()
```

